include ../parts/mixins

- cardSettings = { phone: { s: 4 }, tablet: { s: 8 }, desktop: { s: 4, o: 4 } }

if (user.type == 'student')

.mdl-tabs.mdl-js-tabs.mdl-js-ripple-effect
  .mdl-tabs__tab-bar(style='background: rgba(255, 255, 255, 0.84);')
    a.mdl-tabs__tab.is-active(href='#first-tab') #{user.student.group}
    a.mdl-tabs__tab(href='#second-tab') Все
    a.mdl-tabs__tab(href='#third-tab') Преподаватели
  
  - var ownGroup = groups.filter(_ => _.id == user.student.groupId)[0]
  #first-tab.mdl-tabs__panel.is-active
    .mdl-grid(style='padding: 16px;')
      +Block(cardSettings)
        each student in ownGroup.students.sort((a, b) => a.user.lastname > b.user.lastname)
          div(style='height: 60px; padding-bottom: 8px;')
            a(href='/profile/' + student.user.id, onclick="ajax(this, true); return false;", style='text-decoration: none;')
              img.mdl-user-avatar(src=student.user.asViewModel().getImageUrls().small)
              h2.mdl-card__title-text(style='font-size: 19px; color: black; padding-left: 10px; padding-top: 10px;') #{ student.user.firstname + ' ' + student.user.lastname }
      +Text(cardSettings)
        h5(style='color: rgba(0,0,0,.3); text-align: center;') #{ownGroup.students.length} студентов
  
  #second-tab.mdl-tabs__panel
    .mdl-grid(style='padding: 16px;')
      +Block(cardSettings)
        if (user.type == 'student')
          - groups = groups.filter(_ => _.id != user.student.groupId)
        each group in groups
          div(style='height: 60px; padding-bottom: 8px;')
            a(href='/group/' + group.id, onclick="ajax(this, true); return false;", style='text-decoration: none;')
              .mdl-user-avatar(style='background: gray; color: white;')
                i.material-icons(style='font-size: 40px; padding: 4px;') group
              h2.mdl-card__title-text(style='font-size: 19px; color: black; padding-left: 10px; padding-top: 10px;') #{ group.name }
      +Text(cardSettings)
        h5(style='color: rgba(0,0,0,.3); text-align: center;') #{groups.length} групп

  #third-tab.mdl-tabs__panel
    .mdl-grid(style='padding: 16px;')
      +Block(cardSettings)
        each teacher in teachers
          div(style='height: 60px; padding-bottom: 8px;')
            a(href='/profile/' + teacher.user.id, onclick="ajax(this, true); return false;", style='text-decoration: none;')
              img.mdl-user-avatar(src=teacher.user.asViewModel().getImageUrls().small)
              h2.mdl-card__title-text(style='font-size: 19px; color: black; padding-left: 10px; padding-top: 10px;') #{ teacher.user.firstname + ' ' + teacher.user.lastname }
      +Text(cardSettings)
        h5(style='color: rgba(0,0,0,.3); text-align: center;') #{teachers.length} преподавателей