include ../parts/mixins

- cardSettings = { phone: { s: 4 }, tablet: { s: 8 }, desktop: { s: 8, o: 2 } }

- profile_user = profile_user.asViewModel()

+Card(cardSettings)
  .mdl-card__supporting-text
    .large-avatar-side-content
      if (profile_user.type == 'teacher')
        .profile-name #{profile_user.name.first} #{profile_user.name.middle} #{profile_user.name.last}
        - var experienceString = profile_user.teacher.getExperienceString();
        if experienceString
          .block
            span(style='padding-bottom: 8px; color: black; opacity: .5;') Преподавательский стаж:
            span(style='color: black;') #{' ' + experienceString}
            br
            br
        if profile_user.teacher.position
          .block
            span(style='padding-bottom: 8px; color: black; opacity: .5;') Должность:
            span(style='color: black;') #{' ' + profile_user.teacher.position}
            br
            br
        if profile_user.teacher.description
          .block
            span(style='display: block; margin-top: 8px;') !{ profile_user.teacher.description.replace(/(?:\r\n|\r|\n)/g, '<br/>') }
      else
        .profile-name #{profile_user.name.first} #{profile_user.name.last}
    img.large-avatar-image(src=profile_user.getImageUrls().large)
  .mdl-card__actions.mdl-card--border
    a.mdl-button.mdl-button--colored.mdl-js-button.mdl-js-ripple-effect(onclick="post_form()", style='float: left;') Написать сообщение

if (profile_user.type == 'teacher' && profile_user.teacher.subjects.length)
  +Card(cardSettings)
    .mdl-card__title(style='padding-bottom: 8px;')
      h2.mdl-card__title-text Дисциплины
    .mdl-card__supporting-text
      each subject in profile_user.teacher.subjects
        span.mdl-chip.mdl-spacing
          span.mdl-chip__text #{ subject.shortname }
          //span.mdl-chip__text(id='subject-tooltip-' + subject.id) #{ subject.shortname }
          //.mdl-tooltip(for='subject-tooltip-' + subject.id) #{ subject.name }