include parts/mixins
extends parts/blank
  
block head
  title Авторизация

block content
  .mdl-layout-spacer
  +Card({all: 4, desktop: 4, shadow: 4})
    .mdl-card__supporting-text
      
      if error_code == 'invalid_credentials'
        h4(style='font-weight: 100; text-align: center; color: red;') Ошибка входа
      else
        h4(style='font-weight: 100; text-align: center;') Авторизация

      form(action='/authorize', method='POST', style='padding: 0px 8px;', id='loginform')
        .mdl-textfield.mdl-js-textfield(style='left: 50%; transform: translateX(-50%);')
          if login
            input#loginfield.mdl-textfield__input(type='text', name='login', value=login)
          else
            input#loginfield.mdl-textfield__input(type='text', autofocus, name='login')
            
          label.mdl-textfield__label(for='loginfield') Логин
        .mdl-textfield.mdl-js-textfield(style='left: 50%; transform: translateX(-50%); margin-bottom: 8px;')
          if login
            input#passwordfield.mdl-textfield__input(type='password', name='pass', autofocus)
          else
            input#passwordfield.mdl-textfield__input(type='password', name='pass')
          label.mdl-textfield__label(for='passwordfield') Пароль
               
        a#submit-btn.mdl-button.mdl-button--colored.mdl-js-button.mdl-js-ripple-effect(onclick="document.getElementById('loginform').submit()", style='width: calc(50% - 32px)') вход
        a.mdl-button.mdl-button--colored.mdl-js-button.mdl-js-ripple-effect(href='#', style='width: calc(50% - 32px);') забыл пароль
    
  script.
    document
      .getElementById("passwordfield")
      .addEventListener("keyup", function(event) {
      event.preventDefault();
      if (event.keyCode == 13) {
          document.getElementById("submit-btn").click();
      }
    });
    

  .mdl-layout-spacer